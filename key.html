<html>
<head>
    <meta charset="utf-8" />
    <title>Redis Key 键</title>
</head>
<body>
    <h2>DEL</h2>
    <p>删除单个 key</p>
    <div>    
        <a>redis> SET name rokey
        <br>OK</a>
        <br><br>
        <a>redis> DEL name
        <br>(integer) 1</a>
    </div>
    <hr>
    <div>
        <p>同时删除多个 key</p>
        <a>redis> SET name "redis"
        <br>OK</a>
        <br><br>
        <a>redis> SET type "key-value store"
        <br>OK</a>
        <br><br>
        <a>redis> SET website "redis.com"
        <br>OK</a>
        <br><br>
        <a>redis> DEL name type website
        <br>(integer) 3</a>
    </div>
    <hr>

    <h2>DUMP</h2>
    <p>序列化给定 key ，并返回被序列化的值</p>
    <div>       
        <a>redis> SET greeting "hello, dumping world!"
        <br>OK</a>
        <br><br>
        <a>redis> DUMP greeting
        <br>"\x00\x15hello, dumping world!\x06\x00E\xa0Z\x82\xd8r\xc1\xde"</a>
        <br><br>
        <a>redis> DUMP not-exists-key
        <br>(nil)</a>
    </div>
    <hr>

    <h2>EXISTS</h2>
    <p>检查给定 key 是否存在</p>
    <div>       
        <a>redis> SET db "redis"
        <br>OK</a>
        <br><br>
        <a>redis> EXISTS db
        <br>(integer) 1</a>
        <br><br>
        <a>redis> DEL db
        <br>(integer) 1</a>
        <br><br>
        <a>redis> EXISTS db
        <br>(integer) 0</a>
    </div>
    <hr>

    <h2>EXPIRE</h2>
    <p>为给定 key 设置生存时间，当 key 过期时(生存时间为 0 )，它会被自动删除</p>
    <div>       
        <a>redis> SET cache_page "www.google.com"
        <br>OK</a>
        <br><br>
        <a>redis> EXPIRE cache_page 30 <font color = "red"># 设置过期时间为 30 秒</font>
        <br>(integer) 1</a>
        <br><br>
        <a>redis> TTL cache_page <font color = "red"># 查看剩余生存时间</font>
        <br>(integer) 23</a>
        <br><br>
        <a>redis> EXPIRE cache_page 30000 <font color = "red"># 更新过期时间</font>
        <br>(integer) 1</a>
        <br><br>
        <a>redis> TTL cache_page
        <br>(integer) 29996</a>
    </div>
    <hr>

    <h2>EXPIREAT</h2>
    <p>EXPIREAT 的作用和 EXPIRE 类似，都用于为 key 设置生存时间。不同在于 EXPIREAT 命令接受的时间参数是 UNIX 时间戳</p>
    <div>       
        <a>redis> SET cache www.google.com
        <br>OK</a>
        <br><br>
        <a>redis> EXPIREAT cache 1355292000 <font color = "red"># 这个 key 将在 2012.12.12 过期</font>
        <br>(integer) 1</a>
        <br><br>
        <a>redis> TTL cache
        <br>(integer) 45081860</a>
    </div>
    <hr>

    <h2>KEYS</h2>
    <p>查找所有符合给定模式的 key</p>
    <div>       
        <a>redis> MSET one 1 two 2 three 3 four 4 <font color = "red"># 一次设置 4 个 key</font>
        <br>OK</a>
        <br><br>
        <a>redis> KEYS *o* <font color = "red"># KEYS h*llo 匹配 hllo 和 heeeeello 等</font>
        <br>1) "four"</a>
        <br>2) "two"</a>
        <br>3) "one"</a>
        <br><br>
        <a>redis> KEYS t?? <font color = "red"># KEYS h?llo 匹配 hello ， hallo 和 hxllo 等</font>
        <br>1) "two"</a>
        <br><br>
        <a>redis> KEYS t[w]* <font color = "red"># KEYS h[ae]llo 匹配 hello 和 hallo ，但不匹配 hillo</font>
        <br>1) "two"</a>
        <br><br>
        <a>redis> KEYS * <font color = "red"># 匹配数据库内所有 key</font>
        <br>1) "four"</a>
        <br>2) "three"</a>
        <br>3) "two"</a>
        <br>4) "one"</a>
    </div>
    <hr>

    <h2>MIGRATE</h2>
    <p>将 key 原子性地从当前实例传送到目标实例的指定数据库上，一旦传送成功， key 保证会出现在目标实例上，而当前实例上的 key 会被删除</p>
    <div>       
        <a>
        <br></a><font color = "red"># 未理解，暂不举例</font>
    </div>
    <hr>

    <h2>MOVE</h2>
    <p>将当前数据库的 key 移动到给定的数据库 db 当中，如果当前数据库和目标数据库有相同名字的给定 key ，或者 key 不存在于当前数据库，那么 MOVE 没有任何效果</p>
    <div>       
        <a>redis> SELECT 0 <font color = "red"># redis默认使用数据库 0，为了清晰起见，这里再显式指定一次</font>
        <br>OK</a>
        <br><br>
        <a>redis> SET song "secret base - Zone"
        <br>OK</a>
        <br><br>
        <a>redis> MOVE song 1 <font color = "red"># 将 song 移动到数据库 1</font>
        <br>(integer) 1</a>
        <br><br>
        <a>redis> EXISTS song <font color = "red"># song 已经被移走</font>
        <br>(integer) 0</a>
        <br><br>
        <a>redis> SELECT 1 <font color = "red"># 使用数据库 1</font>
        <br>OK</a>
        <br><br>
        <a>redis:1> EXISTS song <font color = "red"># 证实 song 被移到了数据库 1 (注意命令提示符变成了"redis:1"，表明正在使用数据库 1)</font>
        <br>(integer) 1</a>
    </div>
    <hr>

    <h2>OBJECT</h2>
    <p>OBJECT 命令允许从内部察看给定 key 的 Redis 对象</p>
    <div>       
        <a>
        <br></a><font color = "red"># 未理解，暂不举例</font>
    </div>
    <hr>

    <h2>PERSIST</h2>
    <p>移除给定 key 的生存时间，将这个 key 从『易失的』(带生存时间 key )转换成『持久的』(一个不带生存时间、永不过期的 key )</p>
    <div>       
        <a>redis> SET mykey "Hello"
        <br>OK</a>
        <br><br>
        <a>redis> EXPIRE mykey 10 <font color = "red"># 为 key 设置生存时间</font>
        <br>(integer) 1</a>
        <br><br>
        <a>redis> TTL mykey
        <br>(integer) 10</a>
        <br><br>
        <a>redis> PERSIST mykey <font color = "red"># 移除 key 的生存时间</font>
        <br>(integer) 1</a>
        <br><br>
        <a>redis> TTL mykey
        <br>(integer) -1</a>
        <br><br>
    </div>
    <hr>
<!--
    <h2>key</h2>
    <p>comment</p>
    <div>       
        <a>
        <br></a>
        <br><br>
        <a>
        <br></a>
        <br><br>
        <a>
        <br></a>
        <br><br>
        <a>
        <br></a><font color = "red"># 备注</font>
    </div>
    <hr>
-->
</body>
</html>